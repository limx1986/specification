# Redis规范

## 一、基本规范

## 二、Key规范

### 2.1 命名规范

- 以业务名(或数据库名)为前缀(防止key冲突)，用冒号分隔，比如业务名:表名:id
- 保证语义的前提下，控制key的长度，当key较多时，内存占用也不容忽视
- 不要包含特殊字符

## 三、Value规范

### 3.1 存储规范

- 拒绝bigkey(防止网卡流量、慢查询)，string类型控制在10KB以内，hash、list、set、zset元素个数不要超过5000
- 选择适合的数据类型
- 控制key的生命周期，redis不是垃圾桶，建议设置过期时间
- 

## 四、查询规范

- 禁止线上使用keys、flushall、flushdb等，通过redis的rename机制禁掉命令，或者使用scan的方式渐进式处理
- 使用批量操作提高效率，但要注意控制一次批量操作的元素个数
- 

